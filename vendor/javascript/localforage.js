var r="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;var t={};(function(r){t=r()})((function(){return function e(r,t,n){function s(a,i){if(!t[a]){if(!r[a]){var c=null;if(!i&&c)return c(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var f=t[a]={exports:{}};r[a][0].call(f.exports,(function(t){var n=r[a][1][t];return s(n||t)}),f,f.exports,e,r,t,n)}return t[a].exports}var o=null;for(var a=0;a<n.length;a++)s(n[a]);return s}({1:[function(t,n,o){(function(r){var t=r.MutationObserver||r.WebKitMutationObserver;var o;if(t){var a=0;var i=new t(nextTick);var c=r.document.createTextNode("");i.observe(c,{characterData:true});o=function(){c.data=a=++a%2}}else if(r.setImmediate||"undefined"===typeof r.MessageChannel)o="document"in r&&"onreadystatechange"in r.document.createElement("script")?function(){var t=r.document.createElement("script");t.onreadystatechange=function(){nextTick();t.onreadystatechange=null;t.parentNode.removeChild(t);t=null};r.document.documentElement.appendChild(t)}:function(){setTimeout(nextTick,0)};else{var u=new r.MessageChannel;u.port1.onmessage=nextTick;o=function(){u.port2.postMessage(0)}}var f;var l=[];function nextTick(){f=true;var r,t;var n=l.length;while(n){t=l;l=[];r=-1;while(++r<n)t[r]();n=l.length}f=false}n.exports=immediate;function immediate(r){1!==l.push(r)||f||o()}}).call(this||r,"undefined"!==typeof r?r:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],2:[function(t,n,o){var a=t(1);function INTERNAL(){}var i={};var c=["REJECTED"];var u=["FULFILLED"];var f=["PENDING"];n.exports=Promise;function Promise(t){if("function"!==typeof t)throw new TypeError("resolver must be a function");(this||r).state=f;(this||r).queue=[];(this||r).outcome=void 0;t!==INTERNAL&&safelyResolveThenable(this||r,t)}Promise.prototype.catch=function(r){return this.then(null,r)};Promise.prototype.then=function(t,n){if("function"!==typeof t&&(this||r).state===u||"function"!==typeof n&&(this||r).state===c)return this||r;var o=new(this||r).constructor(INTERNAL);if((this||r).state!==f){var a=(this||r).state===u?t:n;unwrap(o,a,(this||r).outcome)}else(this||r).queue.push(new QueueItem(o,t,n));return o};function QueueItem(t,n,o){(this||r).promise=t;if("function"===typeof n){(this||r).onFulfilled=n;(this||r).callFulfilled=(this||r).otherCallFulfilled}if("function"===typeof o){(this||r).onRejected=o;(this||r).callRejected=(this||r).otherCallRejected}}QueueItem.prototype.callFulfilled=function(t){i.resolve((this||r).promise,t)};QueueItem.prototype.otherCallFulfilled=function(t){unwrap((this||r).promise,(this||r).onFulfilled,t)};QueueItem.prototype.callRejected=function(t){i.reject((this||r).promise,t)};QueueItem.prototype.otherCallRejected=function(t){unwrap((this||r).promise,(this||r).onRejected,t)};function unwrap(r,t,n){a((function(){var o;try{o=t(n)}catch(t){return i.reject(r,t)}o===r?i.reject(r,new TypeError("Cannot resolve promise with itself")):i.resolve(r,o)}))}i.resolve=function(r,t){var n=tryCatch(getThen,t);if("error"===n.status)return i.reject(r,n.value);var o=n.value;if(o)safelyResolveThenable(r,o);else{r.state=u;r.outcome=t;var a=-1;var c=r.queue.length;while(++a<c)r.queue[a].callFulfilled(t)}return r};i.reject=function(r,t){r.state=c;r.outcome=t;var n=-1;var o=r.queue.length;while(++n<o)r.queue[n].callRejected(t);return r};function getThen(r){var t=r&&r.then;if(r&&("object"===typeof r||"function"===typeof r)&&"function"===typeof t)return function appyThen(){t.apply(r,arguments)}}function safelyResolveThenable(r,t){var n=false;function onError(t){if(!n){n=true;i.reject(r,t)}}function onSuccess(t){if(!n){n=true;i.resolve(r,t)}}function tryToUnwrap(){t(onSuccess,onError)}var o=tryCatch(tryToUnwrap);"error"===o.status&&onError(o.value)}function tryCatch(r,t){var n={};try{n.value=r(t);n.status="success"}catch(r){n.status="error";n.value=r}return n}Promise.resolve=resolve;function resolve(t){return t instanceof(this||r)?t:i.resolve(new(this||r)(INTERNAL),t)}Promise.reject=reject;function reject(t){var n=new(this||r)(INTERNAL);return i.reject(n,t)}Promise.all=all;function all(t){var n=this||r;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var o=t.length;var a=false;if(!o)return this.resolve([]);var c=new Array(o);var u=0;var f=-1;var l=new(this||r)(INTERNAL);while(++f<o)allResolver(t[f],f);return l;function allResolver(r,t){n.resolve(r).then(resolveFromAll,(function(r){if(!a){a=true;i.reject(l,r)}}));function resolveFromAll(r){c[t]=r;if(++u===o&&!a){a=true;i.resolve(l,c)}}}}Promise.race=race;function race(t){var n=this||r;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var o=t.length;var a=false;if(!o)return this.resolve([]);var c=-1;var u=new(this||r)(INTERNAL);while(++c<o)resolver(t[c]);return u;function resolver(r){n.resolve(r).then((function(r){if(!a){a=true;i.resolve(u,r)}}),(function(r){if(!a){a=true;i.reject(u,r)}}))}}},{1:1}],3:[function(t,n,o){(function(r){"function"!==typeof r.Promise&&(r.Promise=t(2))}).call(this||r,"undefined"!==typeof r?r:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{2:2}],4:[function(t,n,o){var a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"===typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r};function _classCallCheck(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function getIDB(){try{if("undefined"!==typeof indexedDB)return indexedDB;if("undefined"!==typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!==typeof mozIndexedDB)return mozIndexedDB;if("undefined"!==typeof OIndexedDB)return OIndexedDB;if("undefined"!==typeof msIndexedDB)return msIndexedDB}catch(r){return}}var i=getIDB();function isIndexedDBValid(){try{if(!i||!i.open)return false;var r="undefined"!==typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform);var t="function"===typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!r||t)&&"undefined"!==typeof indexedDB&&"undefined"!==typeof IDBKeyRange}catch(r){return false}}function createBlob(r,t){r=r||[];t=t||{};try{return new Blob(r,t)}catch(i){if("TypeError"!==i.name)throw i;var n="undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof MSBlobBuilder?MSBlobBuilder:"undefined"!==typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder;var o=new n;for(var a=0;a<r.length;a+=1)o.append(r[a]);return o.getBlob(t.type)}}"undefined"===typeof Promise&&t(3);var c=Promise;function executeCallback(r,t){t&&r.then((function(r){t(null,r)}),(function(r){t(r)}))}function executeTwoCallbacks(r,t,n){"function"===typeof t&&r.then(t);"function"===typeof n&&r.catch(n)}function normalizeKey(r){if("string"!==typeof r){console.warn(r+" used as a key, but it is not a string.");r=String(r)}return r}function getCallback(){if(arguments.length&&"function"===typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var u="local-forage-detect-blob-support";var f=void 0;var l={};var v=Object.prototype.toString;var d="readonly";var h="readwrite";function _binStringToArrayBuffer(r){var t=r.length;var n=new ArrayBuffer(t);var o=new Uint8Array(n);for(var a=0;a<t;a++)o[a]=r.charCodeAt(a);return n}function _checkBlobSupportWithoutCaching(r){return new c((function(t){var n=r.transaction(u,h);var o=createBlob([""]);n.objectStore(u).put(o,"key");n.onabort=function(r){r.preventDefault();r.stopPropagation();t(false)};n.oncomplete=function(){var r=navigator.userAgent.match(/Chrome\/(\d+)/);var n=navigator.userAgent.match(/Edge\//);t(n||!r||parseInt(r[1],10)>=43)}})).catch((function(){return false}))}function _checkBlobSupport(r){return"boolean"===typeof f?c.resolve(f):_checkBlobSupportWithoutCaching(r).then((function(r){f=r;return f}))}function _deferReadiness(r){var t=l[r.name];var n={};n.promise=new c((function(r,t){n.resolve=r;n.reject=t}));t.deferredOperations.push(n);t.dbReady?t.dbReady=t.dbReady.then((function(){return n.promise})):t.dbReady=n.promise}function _advanceReadiness(r){var t=l[r.name];var n=t.deferredOperations.pop();if(n){n.resolve();return n.promise}}function _rejectReadiness(r,t){var n=l[r.name];var o=n.deferredOperations.pop();if(o){o.reject(t);return o.promise}}function _getConnection(r,t){return new c((function(n,o){l[r.name]=l[r.name]||createDbContext();if(r.db){if(!t)return n(r.db);_deferReadiness(r);r.db.close()}var a=[r.name];t&&a.push(r.version);var c=i.open.apply(i,a);t&&(c.onupgradeneeded=function(t){var n=c.result;try{n.createObjectStore(r.storeName);t.oldVersion<=1&&n.createObjectStore(u)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+r.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+r.storeName+'" already exists.')}});c.onerror=function(r){r.preventDefault();o(c.error)};c.onsuccess=function(){var t=c.result;t.onversionchange=function(r){r.target.close()};n(t);_advanceReadiness(r)}}))}function _getOriginalConnection(r){return _getConnection(r,false)}function _getUpgradedConnection(r){return _getConnection(r,true)}function _isUpgradeNeeded(r,t){if(!r.db)return true;var n=!r.db.objectStoreNames.contains(r.storeName);var o=r.version<r.db.version;var a=r.version>r.db.version;if(o){r.version!==t&&console.warn('The database "'+r.name+"\" can't be downgraded from version "+r.db.version+" to version "+r.version+".");r.version=r.db.version}if(a||n){if(n){var i=r.db.version+1;i>r.version&&(r.version=i)}return true}return false}function _encodeBlob(r){return new c((function(t,n){var o=new FileReader;o.onerror=n;o.onloadend=function(n){var o=btoa(n.target.result||"");t({__local_forage_encoded_blob:true,data:o,type:r.type})};o.readAsBinaryString(r)}))}function _decodeBlob(r){var t=_binStringToArrayBuffer(atob(r.data));return createBlob([t],{type:r.type})}function _isEncodedBlob(r){return r&&r.__local_forage_encoded_blob}function _fullyReady(t){var n=this||r;var o=n._initReady().then((function(){var r=l[n._dbInfo.name];if(r&&r.dbReady)return r.dbReady}));executeTwoCallbacks(o,t,t);return o}function _tryReconnect(r){_deferReadiness(r);var t=l[r.name];var n=t.forages;for(var o=0;o<n.length;o++){var a=n[o];if(a._dbInfo.db){a._dbInfo.db.close();a._dbInfo.db=null}}r.db=null;return _getOriginalConnection(r).then((function(t){r.db=t;return _isUpgradeNeeded(r)?_getUpgradedConnection(r):t})).then((function(o){r.db=t.db=o;for(var a=0;a<n.length;a++)n[a]._dbInfo.db=o})).catch((function(t){_rejectReadiness(r,t);throw t}))}function createTransaction(r,t,n,o){void 0===o&&(o=1);try{var a=r.db.transaction(r.storeName,t);n(null,a)}catch(a){if(o>0&&(!r.db||"InvalidStateError"===a.name||"NotFoundError"===a.name))return c.resolve().then((function(){if(!r.db||"NotFoundError"===a.name&&!r.db.objectStoreNames.contains(r.storeName)&&r.version<=r.db.version){r.db&&(r.version=r.db.version+1);return _getUpgradedConnection(r)}})).then((function(){return _tryReconnect(r).then((function(){createTransaction(r,t,n,o-1)}))})).catch(n);n(a)}}function createDbContext(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function _initStorage(t){var n=this||r;var o={db:null};if(t)for(var a in t)o[a]=t[a];var i=l[o.name];if(!i){i=createDbContext();l[o.name]=i}i.forages.push(n);if(!n._initReady){n._initReady=n.ready;n.ready=_fullyReady}var u=[];function ignoreErrors(){return c.resolve()}for(var f=0;f<i.forages.length;f++){var v=i.forages[f];v!==n&&u.push(v._initReady().catch(ignoreErrors))}var d=i.forages.slice(0);return c.all(u).then((function(){o.db=i.db;return _getOriginalConnection(o)})).then((function(r){o.db=r;return _isUpgradeNeeded(o,n._defaultConfig.version)?_getUpgradedConnection(o):r})).then((function(r){o.db=i.db=r;n._dbInfo=o;for(var t=0;t<d.length;t++){var a=d[t];if(a!==n){a._dbInfo.db=o.db;a._dbInfo.version=o.version}}}))}function getItem(t,n){var o=this||r;t=normalizeKey(t);var a=new c((function(r,n){o.ready().then((function(){createTransaction(o._dbInfo,d,(function(a,i){if(a)return n(a);try{var c=i.objectStore(o._dbInfo.storeName);var u=c.get(t);u.onsuccess=function(){var t=u.result;void 0===t&&(t=null);_isEncodedBlob(t)&&(t=_decodeBlob(t));r(t)};u.onerror=function(){n(u.error)}}catch(r){n(r)}}))})).catch(n)}));executeCallback(a,n);return a}function iterate(t,n){var o=this||r;var a=new c((function(r,n){o.ready().then((function(){createTransaction(o._dbInfo,d,(function(a,i){if(a)return n(a);try{var c=i.objectStore(o._dbInfo.storeName);var u=c.openCursor();var f=1;u.onsuccess=function(){var n=u.result;if(n){var o=n.value;_isEncodedBlob(o)&&(o=_decodeBlob(o));var a=t(o,n.key,f++);void 0!==a?r(a):n.continue()}else r()};u.onerror=function(){n(u.error)}}catch(r){n(r)}}))})).catch(n)}));executeCallback(a,n);return a}function setItem(t,n,o){var a=this||r;t=normalizeKey(t);var i=new c((function(r,o){var i;a.ready().then((function(){i=a._dbInfo;return"[object Blob]"===v.call(n)?_checkBlobSupport(i.db).then((function(r){return r?n:_encodeBlob(n)})):n})).then((function(n){createTransaction(a._dbInfo,h,(function(i,c){if(i)return o(i);try{var u=c.objectStore(a._dbInfo.storeName);null===n&&(n=void 0);var f=u.put(n,t);c.oncomplete=function(){void 0===n&&(n=null);r(n)};c.onabort=c.onerror=function(){var r=f.error?f.error:f.transaction.error;o(r)}}catch(r){o(r)}}))})).catch(o)}));executeCallback(i,o);return i}function removeItem(t,n){var o=this||r;t=normalizeKey(t);var a=new c((function(r,n){o.ready().then((function(){createTransaction(o._dbInfo,h,(function(a,i){if(a)return n(a);try{var c=i.objectStore(o._dbInfo.storeName);var u=c.delete(t);i.oncomplete=function(){r()};i.onerror=function(){n(u.error)};i.onabort=function(){var r=u.error?u.error:u.transaction.error;n(r)}}catch(r){n(r)}}))})).catch(n)}));executeCallback(a,n);return a}function clear(t){var n=this||r;var o=new c((function(r,t){n.ready().then((function(){createTransaction(n._dbInfo,h,(function(o,a){if(o)return t(o);try{var i=a.objectStore(n._dbInfo.storeName);var c=i.clear();a.oncomplete=function(){r()};a.onabort=a.onerror=function(){var r=c.error?c.error:c.transaction.error;t(r)}}catch(r){t(r)}}))})).catch(t)}));executeCallback(o,t);return o}function length(t){var n=this||r;var o=new c((function(r,t){n.ready().then((function(){createTransaction(n._dbInfo,d,(function(o,a){if(o)return t(o);try{var i=a.objectStore(n._dbInfo.storeName);var c=i.count();c.onsuccess=function(){r(c.result)};c.onerror=function(){t(c.error)}}catch(r){t(r)}}))})).catch(t)}));executeCallback(o,t);return o}function key(t,n){var o=this||r;var a=new c((function(r,n){t<0?r(null):o.ready().then((function(){createTransaction(o._dbInfo,d,(function(a,i){if(a)return n(a);try{var c=i.objectStore(o._dbInfo.storeName);var u=false;var f=c.openKeyCursor();f.onsuccess=function(){var n=f.result;if(n)if(0===t)r(n.key);else if(u)r(n.key);else{u=true;n.advance(t)}else r(null)};f.onerror=function(){n(f.error)}}catch(r){n(r)}}))})).catch(n)}));executeCallback(a,n);return a}function keys(t){var n=this||r;var o=new c((function(r,t){n.ready().then((function(){createTransaction(n._dbInfo,d,(function(o,a){if(o)return t(o);try{var i=a.objectStore(n._dbInfo.storeName);var c=i.openKeyCursor();var u=[];c.onsuccess=function(){var t=c.result;if(t){u.push(t.key);t.continue()}else r(u)};c.onerror=function(){t(c.error)}}catch(r){t(r)}}))})).catch(t)}));executeCallback(o,t);return o}function dropInstance(t,n){n=getCallback.apply(this||r,arguments);var o=this.config();t="function"!==typeof t&&t||{};if(!t.name){t.name=t.name||o.name;t.storeName=t.storeName||o.storeName}var a=this||r;var u;if(t.name){var f=t.name===o.name&&a._dbInfo.db;var v=f?c.resolve(a._dbInfo.db):_getOriginalConnection(t).then((function(r){var n=l[t.name];var o=n.forages;n.db=r;for(var a=0;a<o.length;a++)o[a]._dbInfo.db=r;return r}));u=t.storeName?v.then((function(r){if(r.objectStoreNames.contains(t.storeName)){var n=r.version+1;_deferReadiness(t);var o=l[t.name];var a=o.forages;r.close();for(var u=0;u<a.length;u++){var f=a[u];f._dbInfo.db=null;f._dbInfo.version=n}var v=new c((function(r,o){var a=i.open(t.name,n);a.onerror=function(r){var t=a.result;t.close();o(r)};a.onupgradeneeded=function(){var r=a.result;r.deleteObjectStore(t.storeName)};a.onsuccess=function(){var t=a.result;t.close();r(t)}}));return v.then((function(r){o.db=r;for(var t=0;t<a.length;t++){var n=a[t];n._dbInfo.db=r;_advanceReadiness(n._dbInfo)}})).catch((function(r){(_rejectReadiness(t,r)||c.resolve()).catch((function(){}));throw r}))}})):v.then((function(r){_deferReadiness(t);var n=l[t.name];var o=n.forages;r.close();for(var a=0;a<o.length;a++){var u=o[a];u._dbInfo.db=null}var f=new c((function(r,n){var o=i.deleteDatabase(t.name);o.onerror=function(){var r=o.result;r&&r.close();n(o.error)};o.onblocked=function(){console.warn('dropInstance blocked for database "'+t.name+'" until all open connections are closed')};o.onsuccess=function(){var t=o.result;t&&t.close();r(t)}}));return f.then((function(r){n.db=r;for(var t=0;t<o.length;t++){var a=o[t];_advanceReadiness(a._dbInfo)}})).catch((function(r){(_rejectReadiness(t,r)||c.resolve()).catch((function(){}));throw r}))}))}else u=c.reject("Invalid arguments");executeCallback(u,n);return u}var y={_driver:"asyncStorage",_initStorage:_initStorage,_support:isIndexedDBValid(),iterate:iterate,getItem:getItem,setItem:setItem,removeItem:removeItem,clear:clear,length:length,key:key,keys:keys,dropInstance:dropInstance};function isWebSQLValid(){return"function"===typeof openDatabase}var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var g="~~local_forage_type~";var p=/^~~local_forage_type~([^~]+)~/;var m="__lfsc__:";var _=m.length;var I="arbf";var S="blob";var w="si08";var x="ui08";var E="uic8";var k="si16";var C="si32";var T="ur16";var N="ui32";var R="fl32";var D="fl64";var j=_+I.length;var B=Object.prototype.toString;function stringToBuffer(r){var t=.75*r.length;var n=r.length;var o;var a=0;var i,c,u,f;if("="===r[r.length-1]){t--;"="===r[r.length-2]&&t--}var l=new ArrayBuffer(t);var v=new Uint8Array(l);for(o=0;o<n;o+=4){i=b.indexOf(r[o]);c=b.indexOf(r[o+1]);u=b.indexOf(r[o+2]);f=b.indexOf(r[o+3]);v[a++]=i<<2|c>>4;v[a++]=(15&c)<<4|u>>2;v[a++]=(3&u)<<6|63&f}return l}function bufferToString(r){var t=new Uint8Array(r);var n="";var o;for(o=0;o<t.length;o+=3){n+=b[t[o]>>2];n+=b[(3&t[o])<<4|t[o+1]>>4];n+=b[(15&t[o+1])<<2|t[o+2]>>6];n+=b[63&t[o+2]]}t.length%3===2?n=n.substring(0,n.length-1)+"=":t.length%3===1&&(n=n.substring(0,n.length-2)+"==");return n}function serialize(t,n){var o="";t&&(o=B.call(t));if(t&&("[object ArrayBuffer]"===o||t.buffer&&"[object ArrayBuffer]"===B.call(t.buffer))){var a;var i=m;if(t instanceof ArrayBuffer){a=t;i+=I}else{a=t.buffer;"[object Int8Array]"===o?i+=w:"[object Uint8Array]"===o?i+=x:"[object Uint8ClampedArray]"===o?i+=E:"[object Int16Array]"===o?i+=k:"[object Uint16Array]"===o?i+=T:"[object Int32Array]"===o?i+=C:"[object Uint32Array]"===o?i+=N:"[object Float32Array]"===o?i+=R:"[object Float64Array]"===o?i+=D:n(new Error("Failed to get type for BinaryArray"))}n(i+bufferToString(a))}else if("[object Blob]"===o){var c=new FileReader;c.onload=function(){var o=g+t.type+"~"+bufferToString((this||r).result);n(m+S+o)};c.readAsArrayBuffer(t)}else try{n(JSON.stringify(t))}catch(r){console.error("Couldn't convert value into a JSON string: ",t);n(null,r)}}function deserialize(r){if(r.substring(0,_)!==m)return JSON.parse(r);var t=r.substring(j);var n=r.substring(_,j);var o;if(n===S&&p.test(t)){var a=t.match(p);o=a[1];t=t.substring(a[0].length)}var i=stringToBuffer(t);switch(n){case I:return i;case S:return createBlob([i],{type:o});case w:return new Int8Array(i);case x:return new Uint8Array(i);case E:return new Uint8ClampedArray(i);case k:return new Int16Array(i);case T:return new Uint16Array(i);case C:return new Int32Array(i);case N:return new Uint32Array(i);case R:return new Float32Array(i);case D:return new Float64Array(i);default:throw new Error("Unkown type: "+n)}}var A={serialize:serialize,deserialize:deserialize,stringToBuffer:stringToBuffer,bufferToString:bufferToString};function createDbTable(r,t,n,o){r.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,o)}function _initStorage$1(t){var n=this||r;var o={db:null};if(t)for(var a in t)o[a]="string"!==typeof t[a]?t[a].toString():t[a];var i=new c((function(r,t){try{o.db=openDatabase(o.name,String(o.version),o.description,o.size)}catch(r){return t(r)}o.db.transaction((function(a){createDbTable(a,o,(function(){n._dbInfo=o;r()}),(function(r,n){t(n)}))}),t)}));o.serializer=A;return i}function tryExecuteSql(r,t,n,o,a,i){r.executeSql(n,o,a,(function(r,c){c.code===c.SYNTAX_ERR?r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(r,u){u.rows.length?i(r,c):createDbTable(r,t,(function(){r.executeSql(n,o,a,i)}),i)}),i):i(r,c)}),i)}function getItem$1(t,n){var o=this||r;t=normalizeKey(t);var a=new c((function(r,n){o.ready().then((function(){var a=o._dbInfo;a.db.transaction((function(o){tryExecuteSql(o,a,"SELECT * FROM "+a.storeName+" WHERE key = ? LIMIT 1",[t],(function(t,n){var o=n.rows.length?n.rows.item(0).value:null;o&&(o=a.serializer.deserialize(o));r(o)}),(function(r,t){n(t)}))}))})).catch(n)}));executeCallback(a,n);return a}function iterate$1(t,n){var o=this||r;var a=new c((function(r,n){o.ready().then((function(){var a=o._dbInfo;a.db.transaction((function(o){tryExecuteSql(o,a,"SELECT * FROM "+a.storeName,[],(function(n,o){var i=o.rows;var c=i.length;for(var u=0;u<c;u++){var f=i.item(u);var l=f.value;l&&(l=a.serializer.deserialize(l));l=t(l,f.key,u+1);if(void 0!==l){r(l);return}}r()}),(function(r,t){n(t)}))}))})).catch(n)}));executeCallback(a,n);return a}function _setItem(t,n,o,a){var i=this||r;t=normalizeKey(t);var u=new c((function(r,c){i.ready().then((function(){void 0===n&&(n=null);var u=n;var f=i._dbInfo;f.serializer.serialize(n,(function(n,l){l?c(l):f.db.transaction((function(o){tryExecuteSql(o,f,"INSERT OR REPLACE INTO "+f.storeName+" (key, value) VALUES (?, ?)",[t,n],(function(){r(u)}),(function(r,t){c(t)}))}),(function(n){if(n.code===n.QUOTA_ERR){if(a>0){r(_setItem.apply(i,[t,u,o,a-1]));return}c(n)}}))}))})).catch(c)}));executeCallback(u,o);return u}function setItem$1(t,n,o){return _setItem.apply(this||r,[t,n,o,1])}function removeItem$1(t,n){var o=this||r;t=normalizeKey(t);var a=new c((function(r,n){o.ready().then((function(){var a=o._dbInfo;a.db.transaction((function(o){tryExecuteSql(o,a,"DELETE FROM "+a.storeName+" WHERE key = ?",[t],(function(){r()}),(function(r,t){n(t)}))}))})).catch(n)}));executeCallback(a,n);return a}function clear$1(t){var n=this||r;var o=new c((function(r,t){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){tryExecuteSql(n,o,"DELETE FROM "+o.storeName,[],(function(){r()}),(function(r,n){t(n)}))}))})).catch(t)}));executeCallback(o,t);return o}function length$1(t){var n=this||r;var o=new c((function(r,t){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){tryExecuteSql(n,o,"SELECT COUNT(key) as c FROM "+o.storeName,[],(function(t,n){var o=n.rows.item(0).c;r(o)}),(function(r,n){t(n)}))}))})).catch(t)}));executeCallback(o,t);return o}function key$1(t,n){var o=this||r;var a=new c((function(r,n){o.ready().then((function(){var a=o._dbInfo;a.db.transaction((function(o){tryExecuteSql(o,a,"SELECT key FROM "+a.storeName+" WHERE id = ? LIMIT 1",[t+1],(function(t,n){var o=n.rows.length?n.rows.item(0).key:null;r(o)}),(function(r,t){n(t)}))}))})).catch(n)}));executeCallback(a,n);return a}function keys$1(t){var n=this||r;var o=new c((function(r,t){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){tryExecuteSql(n,o,"SELECT key FROM "+o.storeName,[],(function(t,n){var o=[];for(var a=0;a<n.rows.length;a++)o.push(n.rows.item(a).key);r(o)}),(function(r,n){t(n)}))}))})).catch(t)}));executeCallback(o,t);return o}function getAllStoreNames(r){return new c((function(t,n){r.transaction((function(o){o.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,o){var a=[];for(var i=0;i<o.rows.length;i++)a.push(o.rows.item(i).name);t({db:r,storeNames:a})}),(function(r,t){n(t)}))}),(function(r){n(r)}))}))}function dropInstance$1(t,n){n=getCallback.apply(this||r,arguments);var o=this.config();t="function"!==typeof t&&t||{};if(!t.name){t.name=t.name||o.name;t.storeName=t.storeName||o.storeName}var a=this||r;var i;i=t.name?new c((function(r){var n;n=t.name===o.name?a._dbInfo.db:openDatabase(t.name,"","",0);t.storeName?r({db:n,storeNames:[t.storeName]}):r(getAllStoreNames(n))})).then((function(r){return new c((function(t,n){r.db.transaction((function(o){function dropTable(r){return new c((function(t,n){o.executeSql("DROP TABLE IF EXISTS "+r,[],(function(){t()}),(function(r,t){n(t)}))}))}var a=[];for(var i=0,u=r.storeNames.length;i<u;i++)a.push(dropTable(r.storeNames[i]));c.all(a).then((function(){t()})).catch((function(r){n(r)}))}),(function(r){n(r)}))}))})):c.reject("Invalid arguments");executeCallback(i,n);return i}var L={_driver:"webSQLStorage",_initStorage:_initStorage$1,_support:isWebSQLValid(),iterate:iterate$1,getItem:getItem$1,setItem:setItem$1,removeItem:removeItem$1,clear:clear$1,length:length$1,key:key$1,keys:keys$1,dropInstance:dropInstance$1};function isLocalStorageValid(){try{return"undefined"!==typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(r){return false}}function _getKeyPrefix(r,t){var n=r.name+"/";r.storeName!==t.storeName&&(n+=r.storeName+"/");return n}function checkIfLocalStorageThrows(){var r="_localforage_support_test";try{localStorage.setItem(r,true);localStorage.removeItem(r);return false}catch(r){return true}}function _isLocalStorageUsable(){return!checkIfLocalStorageThrows()||localStorage.length>0}function _initStorage$2(t){var n=this||r;var o={};if(t)for(var a in t)o[a]=t[a];o.keyPrefix=_getKeyPrefix(t,n._defaultConfig);if(!_isLocalStorageUsable())return c.reject();n._dbInfo=o;o.serializer=A;return c.resolve()}function clear$2(t){var n=this||r;var o=n.ready().then((function(){var r=n._dbInfo.keyPrefix;for(var t=localStorage.length-1;t>=0;t--){var o=localStorage.key(t);0===o.indexOf(r)&&localStorage.removeItem(o)}}));executeCallback(o,t);return o}function getItem$2(t,n){var o=this||r;t=normalizeKey(t);var a=o.ready().then((function(){var r=o._dbInfo;var n=localStorage.getItem(r.keyPrefix+t);n&&(n=r.serializer.deserialize(n));return n}));executeCallback(a,n);return a}function iterate$2(t,n){var o=this||r;var a=o.ready().then((function(){var r=o._dbInfo;var n=r.keyPrefix;var a=n.length;var i=localStorage.length;var c=1;for(var u=0;u<i;u++){var f=localStorage.key(u);if(0===f.indexOf(n)){var l=localStorage.getItem(f);l&&(l=r.serializer.deserialize(l));l=t(l,f.substring(a),c++);if(void 0!==l)return l}}}));executeCallback(a,n);return a}function key$2(t,n){var o=this||r;var a=o.ready().then((function(){var r=o._dbInfo;var n;try{n=localStorage.key(t)}catch(r){n=null}n&&(n=n.substring(r.keyPrefix.length));return n}));executeCallback(a,n);return a}function keys$2(t){var n=this||r;var o=n.ready().then((function(){var r=n._dbInfo;var t=localStorage.length;var o=[];for(var a=0;a<t;a++){var i=localStorage.key(a);0===i.indexOf(r.keyPrefix)&&o.push(i.substring(r.keyPrefix.length))}return o}));executeCallback(o,t);return o}function length$2(t){var n=this||r;var o=n.keys().then((function(r){return r.length}));executeCallback(o,t);return o}function removeItem$2(t,n){var o=this||r;t=normalizeKey(t);var a=o.ready().then((function(){var r=o._dbInfo;localStorage.removeItem(r.keyPrefix+t)}));executeCallback(a,n);return a}function setItem$2(t,n,o){var a=this||r;t=normalizeKey(t);var i=a.ready().then((function(){void 0===n&&(n=null);var r=n;return new c((function(o,i){var c=a._dbInfo;c.serializer.serialize(n,(function(n,a){if(a)i(a);else try{localStorage.setItem(c.keyPrefix+t,n);o(r)}catch(r){"QuotaExceededError"!==r.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==r.name||i(r);i(r)}}))}))}));executeCallback(i,o);return i}function dropInstance$2(t,n){n=getCallback.apply(this||r,arguments);t="function"!==typeof t&&t||{};if(!t.name){var o=this.config();t.name=t.name||o.name;t.storeName=t.storeName||o.storeName}var a=this||r;var i;i=t.name?new c((function(r){t.storeName?r(_getKeyPrefix(t,a._defaultConfig)):r(t.name+"/")})).then((function(r){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(r)&&localStorage.removeItem(n)}})):c.reject("Invalid arguments");executeCallback(i,n);return i}var O={_driver:"localStorageWrapper",_initStorage:_initStorage$2,_support:isLocalStorageValid(),iterate:iterate$2,getItem:getItem$2,setItem:setItem$2,removeItem:removeItem$2,clear:clear$2,length:length$2,key:key$2,keys:keys$2,dropInstance:dropInstance$2};var F=function sameValue(r,t){return r===t||"number"===typeof r&&"number"===typeof t&&isNaN(r)&&isNaN(t)};var z=function includes(r,t){var n=r.length;var o=0;while(o<n){if(F(r[o],t))return true;o++}return false};var $=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)};var P={};var M={};var U={INDEXEDDB:y,WEBSQL:L,LOCALSTORAGE:O};var q=[U.INDEXEDDB._driver,U.WEBSQL._driver,U.LOCALSTORAGE._driver];var W=["dropInstance"];var K=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(W);var Q={description:"",driver:q.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function callWhenReady(r,t){r[t]=function(){var n=arguments;return r.ready().then((function(){return r[t].apply(r,n)}))}}function extend(){for(var r=1;r<arguments.length;r++){var t=arguments[r];if(t)for(var n in t)t.hasOwnProperty(n)&&($(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}var V=function(){function LocalForage(t){_classCallCheck(this||r,LocalForage);for(var n in U)if(U.hasOwnProperty(n)){var o=U[n];var a=o._driver;(this||r)[n]=a;P[a]||this.defineDriver(o)}(this||r)._defaultConfig=extend({},Q);(this||r)._config=extend({},(this||r)._defaultConfig,t);(this||r)._driverSet=null;(this||r)._initDriver=null;(this||r)._ready=false;(this||r)._dbInfo=null;this._wrapLibraryMethodsWithReady();this.setDriver((this||r)._config.driver).catch((function(){}))}LocalForage.prototype.config=function config(t){if("object"===("undefined"===typeof t?"undefined":a(t))){if((this||r)._ready)return new Error("Can't call config() after localforage has been used.");for(var n in t){"storeName"===n&&(t[n]=t[n].replace(/\W/g,"_"));if("version"===n&&"number"!==typeof t[n])return new Error("Database version must be a number.");(this||r)._config[n]=t[n]}return!("driver"in t)||!t.driver||this.setDriver((this||r)._config.driver)}return"string"===typeof t?(this||r)._config[t]:(this||r)._config};LocalForage.prototype.defineDriver=function defineDriver(r,t,n){var o=new c((function(t,n){try{var o=r._driver;var a=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!r._driver){n(a);return}var i=K.concat("_initStorage");for(var u=0,f=i.length;u<f;u++){var l=i[u];var v=!z(W,l);if((v||r[l])&&"function"!==typeof r[l]){n(a);return}}var d=function configureMissingMethods(){var t=function methodNotImplementedFactory(r){return function(){var t=new Error("Method "+r+" is not implemented by the current driver");var n=c.reject(t);executeCallback(n,arguments[arguments.length-1]);return n}};for(var n=0,o=W.length;n<o;n++){var a=W[n];r[a]||(r[a]=t(a))}};d();var h=function setDriverSupport(n){P[o]&&console.info("Redefining LocalForage driver: "+o);P[o]=r;M[o]=n;t()};"_support"in r?r._support&&"function"===typeof r._support?r._support().then(h,n):h(!!r._support):h(true)}catch(r){n(r)}}));executeTwoCallbacks(o,t,n);return o};LocalForage.prototype.driver=function driver(){return(this||r)._driver||null};LocalForage.prototype.getDriver=function getDriver(r,t,n){var o=P[r]?c.resolve(P[r]):c.reject(new Error("Driver not found."));executeTwoCallbacks(o,t,n);return o};LocalForage.prototype.getSerializer=function getSerializer(r){var t=c.resolve(A);executeTwoCallbacks(t,r);return t};LocalForage.prototype.ready=function ready(t){var n=this||r;var o=n._driverSet.then((function(){null===n._ready&&(n._ready=n._initDriver());return n._ready}));executeTwoCallbacks(o,t,t);return o};LocalForage.prototype.setDriver=function setDriver(t,n,o){var a=this||r;$(t)||(t=[t]);var i=this._getSupportedDrivers(t);function setDriverToConfig(){a._config.driver=a.driver()}function extendSelfWithDriver(r){a._extend(r);setDriverToConfig();a._ready=a._initStorage(a._config);return a._ready}function initDriver(r){return function(){var t=0;function driverPromiseLoop(){while(t<r.length){var n=r[t];t++;a._dbInfo=null;a._ready=null;return a.getDriver(n).then(extendSelfWithDriver).catch(driverPromiseLoop)}setDriverToConfig();var o=new Error("No available storage method found.");a._driverSet=c.reject(o);return a._driverSet}return driverPromiseLoop()}}var u=null!==(this||r)._driverSet?(this||r)._driverSet.catch((function(){return c.resolve()})):c.resolve();(this||r)._driverSet=u.then((function(){var r=i[0];a._dbInfo=null;a._ready=null;return a.getDriver(r).then((function(r){a._driver=r._driver;setDriverToConfig();a._wrapLibraryMethodsWithReady();a._initDriver=initDriver(i)}))})).catch((function(){setDriverToConfig();var r=new Error("No available storage method found.");a._driverSet=c.reject(r);return a._driverSet}));executeTwoCallbacks((this||r)._driverSet,n,o);return(this||r)._driverSet};LocalForage.prototype.supports=function supports(r){return!!M[r]};LocalForage.prototype._extend=function _extend(t){extend(this||r,t)};LocalForage.prototype._getSupportedDrivers=function _getSupportedDrivers(r){var t=[];for(var n=0,o=r.length;n<o;n++){var a=r[n];this.supports(a)&&t.push(a)}return t};LocalForage.prototype._wrapLibraryMethodsWithReady=function _wrapLibraryMethodsWithReady(){for(var t=0,n=K.length;t<n;t++)callWhenReady(this||r,K[t])};LocalForage.prototype.createInstance=function createInstance(r){return new LocalForage(r)};return LocalForage}();var H=new V;n.exports=H},{3:3}]},{},[4])(4)}));var n=t;export default n;

